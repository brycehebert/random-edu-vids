(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{220:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(15),r=n.n(a),c=n(7),l=(n(64),n(65),n(66),n(67),n(31)),s=n(12),o=Object(s.d)({name:"video",initialState:{autoplay:0,videoState:-1},reducers:{setAutoPlay:function(e,t){e.autoplay=t.payload},setVideoState:function(e,t){e.videoState=t.payload}}}),d=o.actions,u=d.setAutoPlay,f=d.setVideoState,j=o.reducer,p=n(18),b=n.n(p),h=n(32),x=n(33),g=n.n(x),y=Object(s.c)({selectId:function(e){return e.resourceId.videoId}}),O=y.getInitialState({status:"idle",currentPlaying:"",prevVideo:"",nextVideo:"",firstVideo:"",lastVideo:""}),m=Object(s.b)("playlist/getPlaylist",Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://random-edu-vids.herokuapp.com/api/getPlaylist");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),v=Object(s.b)("playlist/getCustomPlaylist",function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://random-edu-vids.herokuapp.com/api/getCustomPlaylist",{params:{selectedChannels:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=Object(s.d)({name:"playlist",initialState:O,reducers:{nextVideoPressed:function(e,t){if(e.prevVideo=e.currentPlaying,e.currentPlaying=e.nextVideo,e.nextVideo!==e.lastVideo){var n=e.ids.findIndex((function(t){return t===e.nextVideo}));e.nextVideo=e.ids[n+1]}else e.nextVideo=e.firstVideo},prevButtonPressed:function(e,t){if(e.nextVideo=e.currentPlaying,e.currentPlaying=e.prevVideo,e.prevVideo!==e.firstVideo){var n=e.ids.findIndex((function(t){return t===e.prevVideo}));e.prevVideo=e.ids[n-1]}else e.prevVideo=e.lastVideo},shuffleButtonPressed:function(e,t){y.setAll(e,t.payload),e.currentPlaying=e.firstVideo=e.ids[0],e.nextVideo=e.ids[1],e.prevVideo=e.lastVideo=e.ids[e.ids.length-1]},playlistItemClicked:function(e,t){e.currentPlaying=t.payload;var n=e.ids.findIndex((function(e){return e===t.payload}));n===e.ids.length-1?e.nextVideo=e.firstVideo:e.nextVideo=e.ids[n+1],e.prevVideo=0===n?e.lastVideo:e.ids[n-1]}},extraReducers:function(e){e.addCase(m.pending,(function(e,t){e.status="loading"})).addCase(m.fulfilled,(function(e,t){y.setAll(e,t.payload),e.currentPlaying=e.firstVideo=e.ids[0],e.nextVideo=e.ids[1],e.prevVideo=e.lastVideo=e.ids[e.ids.length-1],e.status="idle"})).addCase(v.pending,(function(e,t){e.status="loading"})).addCase(v.fulfilled,(function(e,t){y.setAll(e,t.payload),e.currentPlaying=e.firstVideo=e.ids[0],e.nextVideo=e.ids[1],e.prevVideo=e.lastVideo=e.ids[e.ids.length-1],e.status="idle"}))}}),C=y.getSelectors((function(e){return e.playlist})),k=C.selectAll,P=C.selectById,A=(C.selectIds,V.actions),I=A.nextVideoPressed,N=A.prevButtonPressed,S=A.shuffleButtonPressed,w=A.playlistItemClicked,M=V.reducer,L=n(4),B=function(){var e=Object(c.d)(),t=Object(c.b)(),n=Object(c.c)((function(e){return P(e,e.playlist.currentPlaying)})),i=e.getState().video.autoplay;return Object(L.jsx)("div",{className:"MainVideo",children:Object(L.jsx)(l.a,{videoId:n.resourceId.videoId,opts:{playerVars:{autoplay:i}},onStateChange:function(n){t(f(n.data)),i=e.getState().video.autoplay,n.data===l.a.PlayerState.ENDED&&t(I())},className:"youtube-player"})})},F=(n(98),n(5)),z=(n(99),function(e){var t=e.video,n=e.currentVid,i=e.onClick;return Object(L.jsxs)("div",{className:"PlaylistItem mx-1 ".concat(n===t.resourceId.videoId?"playlist-current-video":""),onClick:function(){return i(t.resourceId.videoId)},children:[" ",Object(L.jsx)(F.Media,{children:Object(L.jsx)(F.Media.Item,{align:"left",children:Object(L.jsx)(F.Image,{src:t.thumbnails.medium.url,size:"16by9",alt:t.title,style:{width:"160px"}})})}),Object(L.jsxs)(F.Container,{className:"truncate",children:[Object(L.jsx)(F.Heading,{title:t.title,className:"playlist-video-title",size:6,weight:"light",textAlign:"left",children:t.title}),Object(L.jsx)(F.Heading,{size:6,subtitle:!0,className:"playlist-video-channel",weight:"default",textAlign:"left",mb:2,children:t.channelTitle})]})]})}),E=function(){var e=Object(c.b)(),t=Object(c.c)(k),n=Object(c.c)((function(e){return e.playlist.currentPlaying})),a=Object(i.useRef)(),r=function(t){t!==n&&e(w(t))},l=Object(i.useCallback)((function(e){var t=a.current,n=t.scrollLeft;n>=t.scrollWidth-t.clientWidth&&e.deltaY>0||0===n&&e.deltaY<0||(a.current.scrollLeft+=e.deltaY,e.preventDefault())}),[]);Object(i.useEffect)((function(){a.current.onwheel=l}),[l]);var s=t.map((function(e,t){return Object(L.jsx)(z,{video:e,currentVid:n,onClick:r},t)}));return Object(L.jsx)("div",{className:"Playlist",ref:a,children:Object(L.jsx)(F.Container,{className:"playlist-container",breakpoint:"widescreen",display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",children:s})})},G=n(10),H=n(52),K=n.n(H),U=n(51),Y=n.n(U),R=n(53),W=n.n(R),q=(n(220),function(){var e=Object(c.b)(),t=Object(c.c)(k),n=Object(c.c)((function(e){return e.video.autoplay}));return Object(L.jsxs)(F.Container,{className:"PlayerControl",display:"flex",alignItems:"center",children:[Object(L.jsx)(Y.a,{fontSize:"large",mr:"2",onClick:function(){e(N())}}),Object(L.jsx)(K.a,{fontSize:"large",ml:"2",onClick:function(){e(I())}}),Object(L.jsx)(W.a,{fontSize:"large",mx:"2",onClick:function(){var n=function(e){for(var t=Object(G.a)(e),n=t.length;--n;){var i=Math.floor(Math.random()*(n+1)),a=t[n],r=t[i];t[n]=r,t[i]=a}return t}(t);e(S(n))}}),Object(L.jsx)(F.Form.Checkbox,{value:"AutoPlay",ml:"4",defaultChecked:n,onChange:function(t){e(u(t.target.checked?1:0))},children:"AutoPlay"})]})}),D=n(14),J=(n(222),n(223),function(e){var t=e.channel,n=e.handleClick;return Object(L.jsx)("div",{className:"ChannelBox",children:Object(L.jsxs)(F.Container,{display:"flex",alignItems:"center",py:"2",children:[Object(L.jsx)(F.Form.Checkbox,{name:"channel",value:t.id,display:"inline",defaultChecked:!0,onChange:n,m:"5"}),Object(L.jsx)(F.Media,{children:Object(L.jsx)(F.Media.Item,{align:"left",display:"inline-block",children:Object(L.jsx)(F.Image,{src:t.avatarUrl,size:48,rounded:!0})})}),Object(L.jsx)(F.Heading,{size:5,children:t.channelName})]})})}),X=[{id:"cgpgrey",channelName:"CGP Grey",avatarUrl:"https://yt3.ggpht.com/ytc/AKedOLS7B0VZFxgHWsLLpXC2rHY7bflcvjVuN68OFVY6=s240-c-k-c0x00ffffff-no-rj"},{id:"veritasium",channelName:"Veritasium",avatarUrl:"https://yt3.ggpht.com/ytc/AKedOLS6qhCOSn2LBAn1k1QnFYAMXAxGso7PnOeqWruerA=s240-c-k-c0x00ffffff-no-rj"},{id:"smartereveryday",channelName:"SmarterEveryDay",avatarUrl:"https://yt3.ggpht.com/ytc/AKedOLQjGSf-ONLuBlcY6KzEFJqoaIJNjiXvM-iahXv7Cg=s240-c-k-c0x00ffffff-no-rj"},{id:"markrober",channelName:"Mark Rober",avatarUrl:"https://yt3.ggpht.com/ytc/AKedOLRN1579qcowoOyJZgtiLI2CKMBqvHqEWFYvhrri=s240-c-k-c0x00ffffff-no-rj"},{id:"nilered",channelName:"NileRed",avatarUrl:"https://yt3.ggpht.com/ytc/AKedOLTVNZe9V4AH3f-ttOD_Xow8M5jACEWUQ9Gd0GMs8A=s240-c-k-c0x00ffffff-no-rj"},{id:"realengineering",channelName:"Real Engineering",avatarUrl:"https://yt3.ggpht.com/ytc/AKedOLRHtlYUfKRGpaVbGFvz8w2M8r91QToE7kk_n2Hgnw=s240-c-k-c0x00ffffff-no-rj"}],Q=function(){var e=Object(c.b)(),t=Object(i.useState)(X.map((function(e){return e.id}))),n=Object(D.a)(t,2),a=n[0],r=n[1],l=function(e){var t=Object(G.a)(a),n=e.target.value,i=t.findIndex((function(e){return e===n}));e.target.checked?-1===i&&t.push(n):-1!==i&&t.splice(i,1),r(t)},s=X.map((function(e,t){return Object(L.jsx)(J,{channel:e,handleClick:l},t)}));return Object(L.jsx)("div",{className:"OptionsPanel",children:Object(L.jsxs)(F.Form.Control,{children:[s,Object(L.jsx)(F.Container,{textAlign:"center",tablet:{textAlign:"left"},children:Object(L.jsx)(F.Button,{my:2,color:"info",onClick:function(){if(0!==a.length){var t=a.join(" ");e(v(t))}else console.log("Must select at least one channel")},children:"Get New Playlist"})})]})})},T=function(){var e=Object(c.c)((function(e){return e.playlist.status}));return Object(L.jsxs)("div",{className:"App",children:["loading"===e?Object(L.jsx)(L.Fragment,{}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(F.Container,{breakpoint:"widescreen",mt:"1",children:Object(L.jsx)(B,{})}),Object(L.jsx)(F.Container,{breakpoint:"widescreen",my:"3",children:Object(L.jsx)(E,{})})]}),Object(L.jsx)(F.Container,{breakpoint:"widescreen",mt:"3",children:Object(L.jsxs)(F.Columns,{breakpoint:"tablet",marginless:!0,children:[Object(L.jsx)(F.Columns.Column,{textAlign:"center",tablet:{textAlign:"left"},paddingless:!0,children:Object(L.jsx)(q,{})}),Object(L.jsx)(F.Columns.Column,{textAlign:"center",tablet:{textAlign:"right"},paddingless:!0,children:Object(L.jsx)(Q,{})})]})})]})},Z=Object(s.a)({reducer:{playlist:M,video:j},devTools:!1});Z.dispatch(m()),r.a.render(Object(L.jsx)(c.a,{store:Z,children:Object(L.jsx)(T,{})}),document.getElementById("root"))},64:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[225,1,2]]]);
//# sourceMappingURL=main.d2eede48.chunk.js.map